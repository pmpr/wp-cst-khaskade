<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             69a0b91ce2cd2             |
    |_______________________________________|
*/
 namespace Pmpr\Custom\Khaskade\ManualOrder; use Exception; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Custom\Khaskade\Container; use Pmpr\Custom\Khaskade\Khaskade; class Ajax extends Container { const PREFIX = Khaskade::PREFIX . 'manual_order_'; const kueiyyiueyeaaoqw = self::PREFIX . 'submit'; const coyeokqoeyuegwaw = self::PREFIX . 'calculate_total'; public function wigskegsqequoeks() { $this->koaegcswmcqsiykq(self::kueiyyiueyeaaoqw, [$this, 'cwgwwgkwsiwgeqge'])->koaegcswmcqsiykq(self::coyeokqoeyuegwaw, [$this, 'keccswkweyayomyy']); } public function cwgwwgkwsiwgeqge() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $eiicaiwgqkgsekce->aoyemeikggcigigu(true); $eumecwmqmukqgyea = [Constants::cyeooeowywugeoqk => __('City', PR__CST__KHASKADE), Constants::skogicecygyyskkq => __('Mobile', PR__CST__KHASKADE), Constants::eskcyegwccqukqwc => __('Address', PR__CST__KHASKADE), Constants::oymkacugcecgouia => __('Province', PR__CST__KHASKADE), Constants::kmqmeaywmyiqqkqw => __('Products', PR__CST__KHASKADE), Constants::scagkwwiiquocimc => __('Last Name', PR__CST__KHASKADE), Constants::kagqiwogmiguosiw => __('First Name', PR__CST__KHASKADE), ManualOrder::qggwwuggymoeakgk => __('Shipping Method', PR__CST__KHASKADE)]; $keccaugmemegoimu = null; foreach ($eumecwmqmukqgyea as $aiowsaccomcoikus => $meqocwsecsywiiqs) { $eqgoocgaqwqcimie = $eiicaiwgqkgsekce->yyqgamuwwakgciey($aiowsaccomcoikus); if (empty($eqgoocgaqwqcimie)) { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg($meqocwsecsywiiqs); break; } } if ($keccaugmemegoimu === null) { $aqauykcugwiqkumq = $this->caokeucsksukesyo()->mmmcswscsiecscwg(); $qqacemimwuamsqqc = $this->uwkmaywceaaaigwo()->mmmcswscsiecscwg(); $umwqusowiqmyseom = $qqacemimwuamsqqc->create(); if (!is_wp_error($umwqusowiqmyseom)) { $umwqusowiqmyseom = $aqauykcugwiqkumq->ewmmeyoaacuscqse($umwqusowiqmyseom, $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::kmqmeaywmyiqqkqw, [])); $iomcqougosimesoq = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::skogicecygyyskkq, '', true); $ewgmommeawggyaek = $this->uwkmaywceaaaigwo()->issssuygyewuaswa(); $scwmkmciyywokcug = $ewgmommeawggyaek->woimamkkeyoyauoa('login', $iomcqougosimesoq); if (!empty($scwmkmciyywokcug)) { $isgkwgyccsiqyguo = $scwmkmciyywokcug->ID; } else { $isgkwgyccsiqyguo = $ewgmommeawggyaek->gesyeyeaqmiskuoo($iomcqougosimesoq, $ewgmommeawggyaek->myuiaumaacseywog(), "{$iomcqougosimesoq}@gmail.com"); } try { $umwqusowiqmyseom->set_customer_id($isgkwgyccsiqyguo); } catch (Exception) { } $wcsmcqaocogciqyc = [Constants::cyeooeowywugeoqk => $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::cyeooeowywugeoqk, '', true), Constants::memskaacyikisggk => $iomcqougosimesoq, Constants::eikgweiqgomeisyo => $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::oymkacugcecgouia, '', true), Constants::essyoswsmawuwayy => 'IR', Constants::scagkwwiiquocimc => $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::scagkwwiiquocimc, '', true), Constants::kagqiwogmiguosiw => $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::kagqiwogmiguosiw, '', true), 'address_1' => $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::eskcyegwccqukqwc, '', true), 'address_2' => '', 'postcode' => $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::gwiayggcmggiwoua, '', true)]; $umwqusowiqmyseom->set_address($wcsmcqaocogciqyc); $umwqusowiqmyseom->set_address($wcsmcqaocogciqyc, 'shipping'); $iueymcwwscwqkiyq = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::ciywsqoeiymemsys, Constants::qgmyyeewkieecqck, true); if ($this->caokeucsksukesyo()->gyecsegqciqykomu()->eqieqemcascqscig($eiicaiwgqkgsekce->yyqgamuwwakgciey(ManualOrder::igwsosscwsmqycea))) { $aqauykcugwiqkumq->gsqosgmykwgcqgyc(self::ymwmiwessmcicegc, $iueymcwwscwqkiyq, $umwqusowiqmyseom); } $aqauykcugwiqkumq->quwkueoweaeoeocc($umwqusowiqmyseom, $iueymcwwscwqkiyq); $gqcwwgeckigoaoya = $eiicaiwgqkgsekce->yyqgamuwwakgciey(ManualOrder::uyqiiogwumiqaiys, '', true); if (!empty($gqcwwgeckigoaoya)) { $aqauykcugwiqkumq->gsiouweuayouceio($umwqusowiqmyseom, trim($gqcwwgeckigoaoya)); } $iaqesuwueueiqigq = $eiicaiwgqkgsekce->yyqgamuwwakgciey(ManualOrder::qggwwuggymoeakgk, '', true); if ($iaqesuwueueiqigq) { [$yskqsyikskcaqwyu, $kyecyamqssseawcq] = explode(':', $iaqesuwueueiqigq); $umwqusowiqmyseom = $aqauykcugwiqkumq->mugwosmkgqkqomyc($umwqusowiqmyseom, $yskqsyikskcaqwyu, $kyecyamqssseawcq); } $aqauykcugwiqkumq->asuqywimuqkgoyks($umwqusowiqmyseom); $keccaugmemegoimu = __('Order has been successfully created.', PR__CST__KHASKADE); } else { $keccaugmemegoimu = $umwqusowiqmyseom; } } $eiicaiwgqkgsekce->uaggqsoeugksgooc($keccaugmemegoimu); } public function keccswkweyayomyy() { $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $eiicaiwgqkgsekce->aoyemeikggcigigu(true); $oksqskmgoqiqciis = $eiicaiwgqkgsekce->yyqgamuwwakgciey(Constants::kmqmeaywmyiqqkqw, []); if (empty($oksqskmgoqiqciis)) { $keccaugmemegoimu = $this->caokeucsksukesyo()->euekiyuksecoccus()->cackyykusuowuiwg(); } else { $usmsssmiougymckk = $this->caokeucsksukesyo()->aqasygcsqysmmyke(); $uuwmqqqiwksuaise = 0; foreach ($oksqskmgoqiqciis as $umkkkaqkwugkemce => $mkgcaseqyaayywqo) { $umkkkaqkwugkemce = absint($umkkkaqkwugkemce); $mkgcaseqyaayywqo = absint($mkgcaseqyaayywqo); $product = $usmsssmiougymckk->get($umkkkaqkwugkemce); if (!$product) { continue; } if (!$product->is_purchasable()) { continue; } $aumscagymwyyicag = $product->get_price(); if ($aumscagymwyyicag <= 0) { continue; } $uuwmqqqiwksuaise += $aumscagymwyyicag * $mkgcaseqyaayywqo; } $keccaugmemegoimu = [Constants::uiiqiokqwmccomiu => $uuwmqqqiwksuaise, 'total_formated' => $this->uwkmaywceaaaigwo()->wikusamwomuogoau()->aumscagymwyyicag($uuwmqqqiwksuaise)]; } $eiicaiwgqkgsekce->uaggqsoeugksgooc($keccaugmemegoimu); } }
