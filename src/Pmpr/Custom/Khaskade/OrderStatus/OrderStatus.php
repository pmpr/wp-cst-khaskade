<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             69a0ba152e203             |
    |_______________________________________|
*/
 namespace Pmpr\Custom\Khaskade\OrderStatus; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Custom\Khaskade\Container; use Pmpr\Custom\Khaskade\Setting; class OrderStatus extends Container { public function wigskegsqequoeks() { $this->qcsmikeggeemccuu(Process::eoiomwooikyqgmuw, [$this, 'wuaeukcwsagosakc'])->qcsmikeggeemccuu('woocommerce_order_status_processing', [$this, 'qeyqgykocswwiyme']); } public function qeyqgykocswwiyme($gkkgcoiwayaccqgm) { if (empty($gkkgcoiwayaccqgm)) { return; } $aqauykcugwiqkumq = $this->caokeucsksukesyo()->mmmcswscsiecscwg(); $umwqusowiqmyseom = $aqauykcugwiqkumq->get($gkkgcoiwayaccqgm); if (empty($umwqusowiqmyseom)) { return; } $mecegeueewcyyooq = $aqauykcugwiqkumq->ucwmcwqmqwaymkkc($umwqusowiqmyseom, Constants::ascagqcquwgmygkm); $qccaqwguecgswiku = $aqauykcugwiqkumq->igawqaomowicuayw(self::ymwmiwessmcicegc, $umwqusowiqmyseom); if (!empty($qccaqwguecgswiku) && $mecegeueewcyyooq === $qccaqwguecgswiku) { $aqauykcugwiqkumq->lwgieausgkeayomy(self::ymwmiwessmcicegc, $umwqusowiqmyseom); return; } $kgmgsioqcmgsigqe = $aqauykcugwiqkumq->ucwmcwqmqwaymkkc($umwqusowiqmyseom); $oskeosqiguecuigk = "pr_order_status_sms_{$mecegeueewcyyooq}"; if (!$this->caokeucsksukesyo()->gyecsegqciqykomu()->ascqkksqiiwaouic($aqauykcugwiqkumq->igawqaomowicuayw($oskeosqiguecuigk, $umwqusowiqmyseom))) { $aqauykcugwiqkumq->gsqosgmykwgcqgyc($oskeosqiguecuigk, Constants::wiquocqckkqkmayo, $umwqusowiqmyseom); Process::symcgieuakksimmu()->wwqqgimsseiouksy($gkkgcoiwayaccqgm); $uamcoiueqaamsqma = sprintf(__('SMS sending scheduled for status "%s".', PR__CST__KHASKADE), $kgmgsioqcmgsigqe); $aqauykcugwiqkumq->mscqqcmmkkiqwcua($uamcoiueqaamsqma, $umwqusowiqmyseom); $this->caokeucsksukesyo()->mskuyeumceaigegs()->kauiuueiiekqcqwo($uamcoiueqaamsqma, PR__CST__KHASKADE, Constants::smkwuwawwaqyimcq); } else { $this->caokeucsksukesyo()->mskuyeumceaigegs()->kauiuueiiekqcqwo(sprintf('SMS sending already scheduled for this order on %s status.', $kgmgsioqcmgsigqe), PR__CST__KHASKADE, Constants::smkwuwawwaqyimcq); } } public function wuaeukcwsagosakc($gkkgcoiwayaccqgm) { $aqauykcugwiqkumq = $this->caokeucsksukesyo()->mmmcswscsiecscwg(); $umwqusowiqmyseom = $aqauykcugwiqkumq->get($gkkgcoiwayaccqgm); $eawuoscsaksyqwiw = $this->caokeucsksukesyo()->mskuyeumceaigegs(); if (empty($umwqusowiqmyseom)) { $eawuoscsaksyqwiw->kauiuueiiekqcqwo("Sending SMS to order customer failed: order not found, ORDER ID = {$gkkgcoiwayaccqgm}", PR__CST__KHASKADE); } else { if (Constants::qgmyyeewkieecqck !== $aqauykcugwiqkumq->ucwmcwqmqwaymkkc($umwqusowiqmyseom, Constants::ascagqcquwgmygkm)) { $eawuoscsaksyqwiw->kauiuueiiekqcqwo('Sending SMS to order customer failed: status not processing.', PR__CST__KHASKADE); } else { $iomcqougosimesoq = $aqauykcugwiqkumq->jkoossoiogyucues($umwqusowiqmyseom); if (empty($iomcqougosimesoq)) { $eawuoscsaksyqwiw->kauiuueiiekqcqwo('Sending SMS to order customer failed: customer mobile is empty.', PR__CST__KHASKADE); } else { $maeucqmymoaoscug = pr_sms_get_engine(); $ssomcowigcegquqo = $this->weysguygiseoukqw(Setting::ucmskyokmukmekmg, $maeucqmymoaoscug::kuqegimyiaaekcmu); if ($ssomcowigcegquqo) { $iwigiqwyskocowwo = $maeucqmymoaoscug->kkcowsyecqiosuko($ssomcowigcegquqo); if ($iwigiqwyskocowwo) { $msugeqywccmmmgyu = $this->weysguygiseoukqw(Setting::esasokggwgkswoio, ''); if ($msugeqywccmmmgyu) { $msugeqywccmmmgyu = $iwigiqwyskocowwo->rsmwamsowgaimcsy($msugeqywccmmmgyu); } $qqscaoyqikuyeoaw = $this->weysguygiseoukqw(Setting::ausikcmsoyayyquw, ''); if ($qqscaoyqikuyeoaw) { $qqscaoyqikuyeoaw = $iwigiqwyskocowwo->yiyqecawioyosoaw($qqscaoyqikuyeoaw); } $saueamguikwmgoek = str_replace(' ', '_', $umwqusowiqmyseom->get_billing_first_name()); $sogksuscggsicmac = $iwigiqwyskocowwo->ciwaawccquiuikqg($iomcqougosimesoq, $qqscaoyqikuyeoaw, $msugeqywccmmmgyu, $saueamguikwmgoek, $umwqusowiqmyseom->get_order_number()); if (is_wp_error($sogksuscggsicmac)) { $eawuoscsaksyqwiw->kauiuueiiekqcqwo(sprintf('Error on sending SMS To customer on Order Status Change: %s.', $this->caokeucsksukesyo()->euekiyuksecoccus()->skauuuoqcaiseuks($sogksuscggsicmac)), PR__CST__KHASKADE); } else { $eawuoscsaksyqwiw->kauiuueiiekqcqwo('Status Change SMS Sent to Customer Successfully.', PR__CST__KHASKADE); } } else { $eawuoscsaksyqwiw->kauiuueiiekqcqwo(sprintf('Sending SMS to order customer failed: provider "%s" not found or not configured.', $ssomcowigcegquqo), PR__CST__KHASKADE); } } else { $eawuoscsaksyqwiw->kauiuueiiekqcqwo('Sending SMS to order customer failed: provider is empty.', PR__CST__KHASKADE); } } } } } }
